{
  "kind": "build_request",
  "title": "Apply SO parsing to existing orders and fix Ready tab summary",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Apply SO (Sample Order) type parsing logic to all existing uploaded order lines that are already stored in the backend, ensuring any orders that should be classified as SO type are correctly updated",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-latest"
        ],
        "quotes": [
          "SO parsing should be done for existing uploaded order lines too"
        ]
      },
      "acceptanceCriteria": [
        "Existing orders in storage are scanned and re-evaluated for SO type classification",
        "Orders matching SO criteria are updated to have orderType set to SO",
        "The parsing logic from the order ingestion process is consistently applied to historical data"
      ]
    },
    {
      "id": "REQ-2",
      "text": "Fix the summary cards to display the correct count and metrics for orders shown in the Ready tab, ensuring the summary values match the deduplicated order list",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-latest"
        ],
        "quotes": [
          "Summary tabs don't show correct value in ready tab"
        ]
      },
      "acceptanceCriteria": [
        "Summary card values in the Ready tab accurately reflect the deduplicated order count",
        "Total weight and quantity metrics match the orders displayed in the Ready tab table",
        "Summary calculations account for the same deduplication logic used in ReadyTab.tsx"
      ]
    }
  ],
  "constraints": [
    "Preserve existing order data and deduplication logic in ReadyTab.tsx",
    "Maintain backward compatibility with existing order type definitions (CO/RB/SO)"
  ],
  "nonGoals": [
    "Changing the UI layout or styling of summary cards",
    "Modifying order type parsing rules or criteria for new uploads"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}